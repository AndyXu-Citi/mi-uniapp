<view class="data-v-4cedc0c6"><view class="container data-v-4cedc0c6"><view class="search-header data-v-4cedc0c6"><view class="search-bar data-v-4cedc0c6"><text class="iconfont icon-search search-icon data-v-4cedc0c6"></text><input class="search-input data-v-4cedc0c6" placeholder="搜索马拉松赛事" data-event-opts="{{[['confirm',[['handleSearch',['$event']]]],['input',[['__set_model',['','searchKeyword','$event',[]]],['onSearchInput',['$event']]]]]}}" value="{{searchKeyword}}" bindconfirm="__e" bindinput="__e"/><text data-event-opts="{{[['tap',[['handleSearch',['$event']]]]]}}" class="search-btn data-v-4cedc0c6" bindtap="__e">搜索</text></view></view><view class="search-condition data-v-4cedc0c6"><scroll-view class="scroll-container data-v-4cedc0c6" scroll-x="true" scroll-with-animation="{{true}}"><view data-event-opts="{{[['tap',[['handleConditionSearch',['hot']]]]]}}" class="{{['scroll-item','data-v-4cedc0c6',(activeCondition==='hot')?'active':'']}}" bindtap="__e">热门赛事</view><view data-event-opts="{{[['tap',[['handleConditionSearch',['signup']]]]]}}" class="{{['scroll-item','data-v-4cedc0c6',(activeCondition==='signup')?'active':'']}}" bindtap="__e">报名中</view><view data-event-opts="{{[['tap',[['handleConditionSearch',['nearby']]]]]}}" class="{{['scroll-item','data-v-4cedc0c6',(activeCondition==='nearby')?'active':'']}}" bindtap="__e">离我最近</view><view data-event-opts="{{[['tap',[['handleConditionSearch',['startsoon']]]]]}}" class="{{['scroll-item','data-v-4cedc0c6',(activeCondition==='startsoon')?'active':'']}}" bindtap="__e">即将开始</view><view data-event-opts="{{[['tap',[['showFilterPopup',['$event']]]]]}}" class="scroll-item data-v-4cedc0c6" bindtap="__e">筛选</view></scroll-view></view><block wx:if="{{$root.g0}}"><view class="search-history data-v-4cedc0c6"><view class="history-header data-v-4cedc0c6"><text class="history-title data-v-4cedc0c6">搜索历史</text><text data-event-opts="{{[['tap',[['clearHistory',['$event']]]]]}}" class="clear-btn data-v-4cedc0c6" bindtap="__e">清空</text></view><view class="history-tags data-v-4cedc0c6"><block wx:for="{{searchHistory}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="tag-item data-v-4cedc0c6"><text data-event-opts="{{[['tap',[['selectKeyword',['$0'],[[['searchHistory','',index]]]]]]]}}" bindtap="__e" class="data-v-4cedc0c6">{{item}}</text><text data-event-opts="{{[['tap',[['removeHistory',[index]]]]]}}" class="close-btn data-v-4cedc0c6" bindtap="__e">×</text></view></block></view></view></block><block wx:if="{{!searchKeyword}}"><view class="hot-search data-v-4cedc0c6"><view class="hot-header data-v-4cedc0c6"><text class="hot-title data-v-4cedc0c6">热门搜索</text></view><view class="hot-tags data-v-4cedc0c6"><block wx:for="{{hotKeywords}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectKeyword',['$0'],[[['hotKeywords','',index]]]]]]]}}" class="tag-item data-v-4cedc0c6" bindtap="__e">{{''+item+''}}</view></block></view></view></block><block wx:if="{{showResults}}"><view class="search-results data-v-4cedc0c6"><view class="result-list data-v-4cedc0c6"><block wx:for="{{searchResults}}" wx:for-item="event" wx:for-index="__i0__" wx:key="id"><event-card vue-id="{{'50cad900-1-'+__i0__}}" event="{{event}}" data-event-opts="{{[['^tap',[['goToEventDetail',['$0'],[[['searchResults','id',event.id,'id']]]]]]]}}" bind:tap="__e" class="data-v-4cedc0c6" bind:__l="__l"></event-card></block></view><block wx:if="{{$root.g1}}"><view data-event-opts="{{[['tap',[['loadMore',['$event']]]]]}}" class="load-more data-v-4cedc0c6" bindtap="__e">点击加载更多</view></block><block wx:if="{{$root.g2}}"><view class="empty-state data-v-4cedc0c6"><image class="empty-icon data-v-4cedc0c6" src="/static/images/empty-search.png" mode="aspectFit"></image><text class="empty-text data-v-4cedc0c6">暂无相关赛事</text></view></block></view></block></view><u-popup vue-id="50cad900-2" show="{{showFilter}}" mode="bottom" border-radius="20" data-event-opts="{{[['^close',[['closeFilterPopup']]]]}}" bind:close="__e" class="data-v-4cedc0c6" bind:__l="__l" vue-slots="{{['default']}}"><view class="filter-popup data-v-4cedc0c6"><view class="filter-header data-v-4cedc0c6"><text class="filter-title data-v-4cedc0c6">筛选条件</text><text data-event-opts="{{[['tap',[['closeFilterPopup',['$event']]]]]}}" class="filter-close data-v-4cedc0c6" bindtap="__e">×</text></view><view class="filter-content data-v-4cedc0c6"><view class="filter-item data-v-4cedc0c6"><text class="filter-label data-v-4cedc0c6">比赛地点</text><view class="filter-options data-v-4cedc0c6"><block wx:for="{{cityOptions}}" wx:for-item="item" wx:for-index="__i1__" wx:key="value"><view data-event-opts="{{[['tap',[['selectFilter',['city','$0'],[[['cityOptions','value',item.value,'value']]]]]]]}}" class="{{['filter-option','data-v-4cedc0c6',(filter.city===item.value)?'active':'']}}" bindtap="__e">{{''+item.label+''}}</view></block></view></view><view class="filter-item data-v-4cedc0c6"><text class="filter-label data-v-4cedc0c6">赛事类型</text><view class="filter-options data-v-4cedc0c6"><block wx:for="{{typeOptions}}" wx:for-item="item" wx:for-index="__i2__" wx:key="value"><view data-event-opts="{{[['tap',[['selectFilter',['type','$0'],[[['typeOptions','value',item.value,'value']]]]]]]}}" class="{{['filter-option','data-v-4cedc0c6',(filter.type===item.value)?'active':'']}}" bindtap="__e">{{''+item.label+''}}</view></block></view></view><view class="filter-item data-v-4cedc0c6"><text class="filter-label data-v-4cedc0c6">比赛状态</text><view class="filter-options data-v-4cedc0c6"><view data-event-opts="{{[['tap',[['selectFilter',['status','']]]]]}}" class="{{['filter-option','data-v-4cedc0c6',(filter.status==='')?'active':'']}}" bindtap="__e">全部</view><view data-event-opts="{{[['tap',[['selectFilter',['status','1']]]]]}}" class="{{['filter-option','data-v-4cedc0c6',(filter.status==='1')?'active':'']}}" bindtap="__e">未开始</view><view data-event-opts="{{[['tap',[['selectFilter',['status','2']]]]]}}" class="{{['filter-option','data-v-4cedc0c6',(filter.status==='2')?'active':'']}}" bindtap="__e">报名中</view><view data-event-opts="{{[['tap',[['selectFilter',['status','5']]]]]}}" class="{{['filter-option','data-v-4cedc0c6',(filter.status==='5')?'active':'']}}" bindtap="__e">已结束</view></view></view></view><view class="filter-footer data-v-4cedc0c6"><view data-event-opts="{{[['tap',[['resetFilter',['$event']]]]]}}" class="filter-btn filter-reset data-v-4cedc0c6" bindtap="__e">重置</view><view data-event-opts="{{[['tap',[['confirmFilter',['$event']]]]]}}" class="filter-btn filter-confirm data-v-4cedc0c6" bindtap="__e">确定</view></view></view></u-popup></view>